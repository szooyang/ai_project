# app.py
import streamlit as st

st.set_page_config(page_title="MBTI 진로 추천 🌟", layout="centered")

st.title("MBTI로 알아보는 진로 추천 ✨")
st.write(
    "내 MBTI 유형에 맞는 찰떡 진로를 추천해줄게! 😄\n"
    "어울리는 전공, 성격, 그리고 평균 연봉까지 확인해봐!"
)

mbti_types = [
    "ISTJ", "ISFJ", "INFJ", "INTJ",
    "ISTP", "ISFP", "INFP", "INTP",
    "ESTP", "ESFP", "ENFP", "ENTP",
    "ESTJ", "ESFJ", "ENFJ", "ENTJ"
]

selected = st.selectbox("👇 MBTI를 골라주세요!", mbti_types)

# 🔹 추천 진로 데이터 (직업명, 전공, 적합 성격, 평균 연봉)
career_map = {
    "ISTJ": [
        ("행정/공기업 직무", "행정학, 경영학, 법학",
         "책임감 있고 꼼꼼한 사람 🧾", "약 3,500만 ~ 6,000만원"),
        ("회계/감사", "회계학, 경영학",
         "데이터 기반 실수 없는 스타일 💼", "약 4,000만 ~ 7,000만원"),
    ],
    "ISFJ": [
        ("간호/보건의료", "간호학, 보건학",
         "배려심 많고 안정 지향적인 사람 🩺", "약 4,000만 ~ 7,000만원"),
        ("교육(초중등)", "교육학, 아동학",
         "사람을 돌보고 성장 돕는 사람 🍎", "약 3,500만 ~ 6,500만원"),
    ],
    "INFJ": [
        ("상담심리/임상", "심리학, 상담학",
         "사람 마음에 깊이 공감하는 사람 💬", "약 3,500만 ~ 6,000만원"),
        ("사회복지/NGO", "사회복지학, 국제학",
         "가치 중심으로 일하는 사람 🌱", "약 3,000만 ~ 5,500만원"),
    ],
    "INTJ": [
        ("연구개발(R&D)", "이공계(수·과학, 컴공 등)",
         "논리+전략 생각하는 독립형 🔬", "약 4,500만 ~ 8,000만원 이상"),
        ("전략기획/컨설팅", "경영학, 경제학, 통계학",
         "큰 그림 그리기 좋아하는 사람 📈", "약 5,000만 ~ 1억원 이상"),
    ],
    "ISTP": [
        ("기계/설계 엔지니어", "기계공학, 전기공학",
         "만들고 고치는 걸 좋아하는 사람 🔧", "약 4,000만 ~ 7,000만원"),
        ("IT 개발자", "컴퓨터공학, 소프트웨어학",
         "문제 해결 능력 탑 👨‍💻", "약 4,000만 ~ 8,000만원"),
    ],
    "ISFP": [
        ("디자이너(시각/제품)", "디자인학, 산업디자인",
         "감성 풍부 + 미적 감각 🎨", "약 3,000만 ~ 6,000만원"),
        ("예술/공연", "예술학, 음악학",
         "표현력 좋은 자유로운 사람 🎭", "수입 폭 넓음 (실력에 따라 상이)"),
    ],
    "INFP": [
        ("콘텐츠 제작/작가", "국문학, 영상학",
         "감성적 + 창작 좋아 ✍️", "약 3,000만 ~ 6,000만원"),
        ("심리상담", "심리학, 상담학",
         "상대 배려와 공감 🤝", "약 3,500만 ~ 6,000만원"),
    ],
    "INTP": [
        ("데이터 분석/연구", "통계학, 컴공, 수학",
         "논리력 최강 📊", "약 4,000만 ~ 8,000만원"),
        ("소프트웨어 개발", "컴퓨터공학",
         "집중력 갑, 아이디어맨 🧠", "약 4,000만 ~ 8,000만원"),
    ],
    "ESTP": [
        ("영업/세일즈", "마케팅, 경영학",
         "상황판단+말빨!! 💬", "성과에 따라 높은 편 (3,500만~무제한)"),
        ("응급구조 등 현장직", "응급구조학",
         "실전형 & 빠른 행동 🚑", "약 3,500만 ~ 6,000만원"),
    ],
    "ESFP": [
        ("엔터/방송", "공연예술, 방송학",
         "무대 위에서 빛나는 사람 🌟", "매우 다양 (실력/경력 따라 차이 큼)"),
        ("이벤트 기획/홍보", "관광학, 광고홍보",
         "활발하고 사교적 🎉", "약 3,500만 ~ 6,500만원"),
    ],
    "ENFP": [
        ("콘텐츠 마케팅/기획", "미디어, 광고홍보",
         "아이디어 폭발 🚀", "약 3,500만 ~ 7,000만원"),
        ("창업/스타트업", "경영학 등 제한 없음",
         "도전 정신 가득 💡", "대박 가능성 ↑ 하지만 위험도 ↑"),
    ],
    "ENTP": [
        ("벤처/컨설팅", "경영학, 법학",
         "창의적 문제해결 🧩", "약 5,000만 ~ 1억원 이상"),
        ("PM(제품 기획)", "공학+경영 융합",
         "변화 주도 ⚙️", "약 4,000만 ~ 8,000만원"),
    ],
    "ESTJ": [
        ("공공행정/관리자", "행정학, 경영학",
         "리더십 강하고 실천력 🏛️", "약 4,000만 ~ 7,000만원"),
        ("프로젝트 매니저", "경영학, 산업공학",
         "계획적 책임감 💼", "약 4,000만 ~ 8,000만원"),
    ],
    "ESFJ": [
        ("교육/서비스 매니저", "교육학, 사회복지",
         "조직에서 사람 챙김 🤝", "약 3,500만 ~ 6,500만원"),
        ("인사(HR)", "경영학, 심리학",
         "사람 관련 문제 해결 👍", "약 4,000만 ~ 7,500만원"),
    ],
    "ENFJ": [
        ("HR/조직개발", "심리학, 경영학",
         "사람 성장 돕는 리더 🌱", "약 4,000만 ~ 7,500만원"),
        ("브랜딩/마케팅", "광고홍보학",
         "설득력 뛰어남 📣", "약 4,000만 ~ 7,500만원"),
    ],
    "ENTJ": [
        ("경영자/임원", "경영학, 경제학",
         "목표지향 리더 🦁", "상위권 (1억원 이상 가능)"),
        ("전략컨설팅/투자은행", "경영, 경제, 통계",
         "분석력+결단력 💼", "약 6,000만 ~ 1억 이상"),
    ],
}

st.markdown("---")
st.subheader(f"🔎 {selected}에게 어울리는 진로 TOP 2")

careers = career_map.get(selected, [])

for idx, (title, majors, personality, salary) in enumerate(careers, start=1):
    st.markdown(f"### {idx}. {title}")
    st.write(f"- **추천 전공**: {majors}")
    st.write(f"- **어떤 성격이 잘 맞아?**: {personality}")
    st.write(f"- 💰 **평균 연봉**: {salary}")
    st.markdown("---")

# 다운로드 버튼
def make_summary():
    text = f"MBTI: {selected}\n\n"
    for i, (title, majors, personality, salary) in enumerate(careers, start=1):
        text += (
            f"{i}. {title}\n"
            f"   - 추천 전공: {majors}\n"
            f"   - 적합 성격: {personality}\n"
            f"   - 평균 연봉: {salary}\n\n"
        )
    return text

st.download_button(
    "📄 결과 TXT로 저장", make_summary(),
    file_name=f"{selected}_진로추천.txt",
    mime="text/plain"
)

st.info("💡 연봉은 업계·경력에 따라 크게 달라질 수 있어요! 관심 생기면 진짜로 경험해보는 게 제일 확실 ✨")

st.markdown("---")
st.write("Made with ❤️ by ChatGPT")
