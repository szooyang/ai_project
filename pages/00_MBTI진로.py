# streamlit_app.py
import streamlit as st

st.set_page_config(page_title="MBTI 진로 추천", page_icon="🧭", layout="centered")

MBTI_OPTIONS = [
    "ISTJ","ISFJ","INFJ","INTJ",
    "ISTP","ISFP","INFP","INTP",
    "ESTP","ESFP","ENFP","ENTP",
    "ESTJ","ESFJ","ENFJ","ENTJ"
]

# 데이터: 각 MBTI별로 (진로명, 추천학과, 어떤 성격이 잘 맞는지 설명)
MBTI_CAREERS = {
    "ISTJ": [
        ("회계사 / 재무관리자", "경영학과·회계학과", "체계적이고 책임감 있는 사람. 디테일 챙기기 좋아함. 📊"),
        ("품질관리 엔지니어", "공학계열·산업공학과", "규칙과 절차를 잘 따르는 사람. 문제 해결을 꼼꼼히 함. 🔧")
    ],
    "ISFJ": [
        ("간호사 / 의료복지사", "간호학과·사회복지학과", "사려 깊고 남을 돌보는 성향. 책임감 강함. 🩺"),
        ("초등교사 / 교육행정", "교육학과·아동학과", "아이들 잘 챙기고 안정감 주는 사람. 따뜻함이 장점. 🍎")
    ],
    "INFJ": [
        ("심리상담사 / 임상심리사", "심리학과·상담학과", "사람의 감정에 공감 잘함. 의미 찾는 성향. 🧠💬"),
        ("콘텐츠 기획자(사회적 프로젝트)", "문예창작·미디어학과", "창의적이고 가치 중심으로 기획하는 사람. ✍️🌱")
    ],
    "INTJ": [
        ("연구개발(R&D) / 데이터 사이언티스트", "수학·통계·컴퓨터공학과", "논리적이고 전략적으로 문제 푸는 성향. 🔬📈"),
        ("전략컨설턴트", "경영학·산업공학", "전략적 사고와 장기계획 잘하는 사람. ♟️")
    ],
    "ISTP": [
        ("기계·전기 엔지니어", "기계·전기공학과", "손으로 만들고 문제 해결하는 걸 즐김. 실용적임. 🛠️"),
        ("응급구조사 / 소방관", "응급구조학·소방안전학", "현장 대응 빠르고 침착한 편. 모험감수성 있음. 🚒")
    ],
    "ISFP": [
        ("시각디자이너 / 일러스트레이터", "디자인학과·시각디자인", "감성 있고 미적 감각 뛰어남. 표현을 좋아함. 🎨"),
        ("식음료·베이커리 셰프", "조리학과·호텔관광학과", "손으로 만들며 창작하는 걸 즐기는 사람. 🍰👩‍🍳")
    ],
    "INFP": [
        ("작가 / 출판편집자", "문예창작·국문학과", "상상력 풍부하고 가치 중심적. 표현으로 세상에 영향 주려 함. 📚✨"),
        ("사회적기업가 / NGO 활동가", "사회복지·사회학과", "의미와 가치를 중시하고 사람 돕는 걸 좋아함. 🌍🤝")
    ],
    "INTP": [
        ("소프트웨어 개발자 / 연구원", "컴퓨터공학·전산학과", "이론적 호기심 많고 문제분석 잘함. 논리적 사고 강함. 💻🧩"),
        ("데이터 애널리스트", "통계·데이터사이언스", "패턴 찾기 좋아하고 복잡한 데이터 즐김. 🔎")
    ],
    "ESTP": [
        ("세일즈·영업 전문가", "경영학·마케팅학과", "적극적이고 사람을 끌어들이는 능력. 행동파! 💼⚡"),
        ("이벤트 기획자 / 퍼포먼스 프로듀서", "문화예술경영·호텔관광학", "순발력 있고 현장감 있는 일을 좋아함. 🎤🎉")
    ],
    "ESFP": [
        ("퍼스널트레이너 / 공연예술가", "스포츠과학·무용학과", "활기차고 사람과 에너지 교류하는 걸 좋아함. 무대 체질! 💃🏋️‍♀️"),
        ("리테일 매니저·브랜드 스토어 매니저", "유통·경영학과", "사람 응대 잘하고 분위기 만들기 능숙. 🛍️✨")
    ],
    "ENFP": [
        ("광고/콘텐츠 크리에이터", "미디어커뮤니케이션·광고학과", "아이디어가 넘치고 사람에게 영감 주는 타입. 📣🌈"),
        ("창업가 / 스타트업 운영", "경영학·창업학", "리스크 감수하고 다양한 시도 좋아함. 열정 가득! 🚀")
    ],
    "ENTP": [
        ("제품기획(PM) / 전략기획자", "경영·산업공학·컴퓨터", "토론 좋아하고 아이디어로 문제를 푸는 사람. 빠른 사고. 🧠⚡"),
        ("변호사(특히 기업법 등), 논리 기반 직업", "법학·정책학", "논리와 설득 능력이 뛰어난 사람. 토론형 인재. ⚖️")
    ],
    "ESTJ": [
        ("관리자·운영 매니저", "경영학·행정학과", "실무 조직관리 잘하고 책임감 있는 리더형. 📋👔"),
        ("공공기관 행정가", "행정학·정치외교학", "규칙과 절차로 시스템 운영하는 걸 잘함. 기관 적응력 높음. 🏛️")
    ],
    "ESFJ": [
        ("HR·인사담당자", "경영학·심리학과", "사람 돌보는 걸 좋아하고 팀 분위기 관리에 능함. 🤝😊"),
        ("마케팅·PR", "광고·커뮤니케이션학과", "사교성 좋고 대중 감성 읽는 능력 뛰어남. 📢")
    ],
    "ENFJ": [
        ("교육자·리더십 코치", "교육학·심리학과", "사람을 이끄는 능력과 공감 능력 강함. 멘토형 인재. 🎓✨"),
        ("HR 리더 / 기업의 조직문화 담당", "경영·인적자원관리", "사람의 성장과 팀워크를 중시하는 사람. 🌱")
    ],
    "ENTJ": [
        ("CEO·경영전략가", "경영학·경제학과", "목표 지향적이고 리더십 있는 사람. 빠른 의사결정 가능. 🏁"),
        ("투자분석가 / 컨설턴트", "금융·경영·경제", "전략적 분석과 경쟁 환경을 즐기는 타입. 📈")
    ]
}

st.title("🧭 MBTI로 찾아보는 진로 추천")
st.write("MBTI를 선택하면 그 유형에 어울리는 **진로 2가지**를 보여줄게! 각 진로마다 추천 학과랑 어떤 성격이 잘 맞는지도 친절하게 설명해줘요. 😎")

col1, col2 = st.columns([2,3])
with col1:
    mbti = st.selectbox("👉 너의 MBTI를 골라줘", MBTI_OPTIONS, index=0)

with col2:
    st.markdown("**사용법**")
    st.write("- MBTI를 고르면 아래에서 자세한 추천을 확인할 수 있어요.")
    st.write("- 마음에 드는 진로가 있으면 진로명을 복사해서 나중에 진로탐색에 활용해봐요! ✨")

st.write("---")

# 결과 표시
careers = MBTI_CAREERS.get(mbti, [])
st.header(f"결과: {mbti} 님에게 어울리는 진로 🎯")

if not careers:
    st.info("죄송해요, 해당 MBTI 정보가 아직 없어요. 다른 걸 골라볼래요? 😊")
else:
    for i, (job, majors, personality) in enumerate(careers, start=1):
        st.subheader(f"{i}. {job} {'🔹' if i==1 else '🔸'}")
        st.write(f"**추천 학과:** {majors}")
        st.write(f"**어떤 성격이 잘 맞나요?** {personality}")
        # 짧은 친근한 코멘트
        if i == 1:
            st.caption("첫번째 추천은 특히 강추! 한 번 자세히 알아봐~ 🚀")
        else:
            st.caption("두번째 추천도 취향에 맞을 수 있어 — 경험 쌓는 걸 추천해! 🧭")

st.write("---")
st.write("💡 **팁**: 학교 수업, 동아리, 인턴십으로 직접 체험해보면 진로 선택에 큰 도움이 돼요. 궁금한 진로가 있으면 더 자세히 알려줄게! 👋")

# 간단한 추가 기능: 결과 텍스트로 복사하기
st.write("")
if st.button("이 추천 텍스트 복사하기"):
    # 간단 텍스트 생성
    text_lines = [f"MBTI: {mbti}", "추천 진로:"]
    for i, (job, majors, personality) in enumerate(careers, start=1):
        text_lines.append(f"{i}. {job} - 추천 학과: {majors} - 성격: {personality}")
    pyperclip_text = "\n".join(text_lines)
    # Streamlit 클라우드에서는 pyperclip가 없으니, 대신 텍스트 영역에 출력
    st.success("아래 텍스트를 복사해서 사용하세요 ✂️")
    st.text_area("추천 텍스트", value=pyperclip_text, height=200)
s
