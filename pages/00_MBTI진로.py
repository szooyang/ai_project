# app.py
import streamlit as st

# 페이지 설정 (가급적 가장 위에 둠)
st.set_page_config(page_title="MBTI 진로 추천 봇", page_icon="🎯")

# 제목
st.title("🎯 MBTI 진로 추천 봇")
st.write("너의 MBTI에 맞는 진로 2가지를 추천해줄게! 😄\n친근한 말투로 설명도 같이 보여줘.")

# MBTI 선택 목록
MBTI_OPTIONS = [
    "INTJ", "INTP", "ENTJ", "ENTP",
    "INFJ", "INFP", "ENFJ", "ENFP",
    "ISTJ", "ISFJ", "ESTJ", "ESFJ",
    "ISTP", "ISFP", "ESTP", "ESFP"
]

selected_mbti = st.selectbox("너의 MBTI를 골라줘!", MBTI_OPTIONS)

# MBTI별 추천 진로 (진로명, 한줄 설명)
CAREERS = {
    "INTJ": [
        ("데이터 과학자 🤖", "논리적으로 문제를 해결하고 통찰을 만드는 일을 좋아해."),
        ("전략 기획자 📊", "장기적 목표와 시스템을 설계하는 데 재능이 있어.")
    ],
    "INTP": [
        ("연구원 🧪", "호기심이 많고 이론을 파헤치는 걸 즐겨."),
        ("시스템 개발자 🧑‍💻", "문제 해결과 구조 설계에 강함.")
    ],
    "ENTJ": [
        ("경영 컨설턴트 🏢", "사람을 이끌고 조직 문제를 해결하는 걸 잘 함."),
        ("프로덕트 매니저 📈", "목표 설정과 실행 계획 수립에 능숙.")
    ],
    "ENTP": [
        ("벤처 창업가 🚀", "새로운 아이디어 실험을 즐기고 리스크를 감수함."),
        ("크리에이티브 디렉터 🎬", "발상이 풍부하고 변화를 즐김.")
    ],
    "INFJ": [
        ("심리 상담가 💬", "다른 사람의 마음을 이해하고 돕는 데 소질이 있음."),
        ("작가 ✍️", "깊이있는 통찰을 글로 풀어내는 걸 좋아함.")
    ],
    "INFP": [
        ("콘텐츠 크리에이터 🎨", "자유롭게 표현하고 감성을 전달하는 데 재능이 있음."),
        ("사회복지사 🤝", "가치 중심으로 사람을 돕는 것을 중요하게 여김.")
    ],
    "ENFJ": [
        ("교사 👩‍🏫", "사람을 북돋우고 팀을 이끄는 데 능함."),
        ("홍보 전문가 📣", "사람들과 소통하며 메시지를 전달하는 걸 잘함.")
    ],
    "ENFP": [
        ("광고 기획자 📺", "창의적 아이디어로 사람들을 끄는 걸 좋아함."),
        ("이벤트 플래너 🎉", "에너지 넘치게 행사를 조직하는 데 잘 맞음.")
    ],
    "ISTJ": [
        ("회계사 📚", "정확하고 체계적으로 일하는 것을 즐김."),
        ("공무원 🏛️", "규칙과 절차를 잘 지키며 책임감이 강함.")
    ],
    "ISFJ": [
        ("간호사 🏥", "섬세하게 돌보는 역할에 잘 맞음."),
        ("교육 행정가 🗂️", "조직적이고 사람 돕는 일에 적합함.")
    ],
    "ESTJ": [
        ("프로젝트 매니저 🧱", "실행력 있고 목표 달성에 집중함."),
        ("군 장교 🎖️", "규율과 리더십을 발휘하는 역할에 적합함.")
    ],
    "ESFJ": [
        ("호텔리어 🏨", "서비스 마인드와 사람 대하는 능력이 뛰어남."),
        ("인사 담당자 👥", "사람 관리와 조직 문화에 관심이 많음.")
    ],
    "ISTP": [
        ("엔지니어 🔧", "손으로 만들고 문제를 즉시 해결하는 데 능함."),
        ("보안 전문가 🔐", "분석적이고 실전에서 대응하는 능력이 좋음.")
    ],
    "ISFP": [
        ("디자이너 🎨", "감각적으로 표현하고 만드는 일을 즐김."),
        ("사진 작가 📷", "순간을 포착하고 감성을 전달하는 데 적합함.")
    ],
    "ESTP": [
        ("영업 전문가 💼", "즉흥적 대응과 설득 능력이 뛰어남."),
        ("기자 📰", "현장감 있고 빠르게 상황을 전달하는 역할에 잘 맞음.")
    ],
    "ESFP": [
        ("배우 🎭", "사람들 앞에서 표현하는 걸 즐김."),
        ("연예 기획자 ⭐", "사람과 무대를 관리하고 즐겁게 만드는 역할.")
    ]
}

# 추천 출력
st.markdown("---")
st.subheader(f"🔎 {selected_mbti} 유형을 위한 추천 진로")

jobs = CAREERS.get(selected_mbti, [])
if not jobs:
    st.write("아직 이 MBTI에 대한 추천이 준비되지 않았어. 😢")
else:
    for idx, (title, desc) in enumerate(jobs, start=1):
        st.markdown(f"**{idx}. {title}**")
        st.write(desc)
        st.write("")  # 줄간격

# 간단한 팁 박스
st.info("팁: MBTI는 성향을 보여주는 도구일 뿐이야. 좋아하는 일과 해보고 싶은 경험이 무엇인지 더 중요해! 🌟")

# 추가 기능 제안 (원하면 활성화)
with st.expander("추가 옵션 — 진로별 전공/성격 추천 보기"):
    # 전공/성격 예시 데이터 (간단)
    EXTRA = {
        "데이터 과학자 🤖": ("수학/통계/컴공", "분석적이고 끈기 있는 성격"),
        "전략 기획자 📊": ("경영/경제", "전략적 사고와 계획력"),
        "연구원 🧪": ("전공 관련 이공계", "호기심이 많고 탐구적인 성격"),
        "시스템 개발자 🧑‍💻": ("컴퓨터공학", "문제 해결을 즐기는 성격"),
        # 필요한 항목은 더 추가 가능
    }

    # 선택한 진로 하나를 보여주기
    job_titles = [t for t, _ in jobs]
    chosen = st.selectbox("어떤 진로의 전공/성격 정보를 볼래?", ["선택 안 함"] + job_titles)
    if chosen != "선택 안 함":
        major, personality = EXTRA.get(chosen, ("관련 전공 다양함", "다양한 성향이 어울릴 수 있음"))
        st.write(f"- 추천 전공: **{major}**")
        st.write(f"- 어울리는 성격: {personality}")

# 푸터
st.markdown("---")
st.write("만들어 본 앱이에요 — 더 꾸미고 싶으면 알려줘! 😁")
